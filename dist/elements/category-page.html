<link rel="import" href="/components/polymer/polymer.html"><link rel="import" href="/components/paper-listbox/paper-listbox.html"><link rel="import" href="/components/paper-item/paper-item.html"><link rel="import" href="/components/iron-input/iron-input.html"><link rel="import" href="/elements/taxonomy-path/taxonomy-path.html"><link rel="import" href="/components/paper-header-panel/paper-header-panel.html"><link rel="import" href="/components/paper-toolbar/paper-toolbar.html"><link rel="import" href="/components/app-route/app-route.html"><dom-module id="category-page"><template><style>:host{display:block}paper-item{font-family:var(--body-font)}a{text-decoration:none;width:100%}a:hover paper-item{background:#f0f0f0}paper-header-panel{height:90vh}</style><app-route route="{{route}}" pattern="/:categoryId" data="{{routeData}}"></app-route><paper-header-panel><paper-toolbar><taxonomy-path category-id="[[category.id]]" show="category"></taxonomy-path></paper-toolbar><paper-listbox><template is="dom-repeat" items="[[subcategories]]" as="subcategory"><a href$="/subcategory/[[subcategory.id]]"><paper-item>[[subcategory.name]]</paper-item></a></template></paper-listbox></paper-header-panel></template><script>Polymer({is:"category-page",behaviors:[__state__],properties:{categoryId:String,category:{type:Object,statePath:"main.category",observer:"_categoryObserver"},subcategories:{type:Object,statePath:"main.subcategories",observer:"_subcategoryObserver"}},observers:["_viewChanged(routeData.categoryId)"],_viewChanged:function(e){this.route.prefix.includes("/category")&&e&&this.dispatch(__actions__.getCategory(e))},_deleteSubcategory:function(e,t){e.preventDefault();var a=e.model.__data__.subcategory.id;return this.dispatch(__actions__.removeSubcategory(a,this.categoryId)),!1},_addNewSubcategory:function(e){return e.preventDefault(),this.dispatch(__actions__.addSubcategory(this.newSubcategory,this.categoryId)),this.newSubcategory="",!1}})</script></dom-module>