<!doctype html><html><head><title>app-route 0bserver Test</title><script src="../../webcomponentsjs/webcomponents-lite.js"></script><script src="../../web-component-tester/browser.js"></script><link rel="import" href="../../polymer/polymer.html"><link rel="import" href="./observer-tester.html"></head><body><test-fixture id="observer_app"><template><observer-tester id="testel"></observer-tester></template></test-fixture><script>"use strict";function setLocation(e){window.history.pushState({},"",e),Polymer.Base.fire("location-changed",{},{node:window})}suite("observe app-route active changes",function(){var e,t,c;setup(function(){e=window.location.href,t=sinon.sandbox.create(),c=fixture("observer_app")}),teardown(function(){t.restore(),window.history.replaceState({},"",e)}),test("observer should fire when route selected",function(){t.spy(c,"checkActive"),setLocation("/report/1000"),expect(c.checkActive).to.have.been.called.once,expect(c.checkActive).to.have.been.calledWith(!0)}),test("observer should fire when route deselected",function(){setLocation("/report/1000"),t.spy(c,"checkActive"),setLocation("/menu"),expect(c.checkActive).to.have.been.called.once,expect(c.checkActive).to.have.been.calledWith(!1)})})</script></body></html>